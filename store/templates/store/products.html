{% extends 'base.html' %}

{% load static %}
{% load page_tags %}

{% block content %}
<div class="collection">
	<div class="side-nav">
		<ul class="category-list">
			<h3>Categories</h3>
			{% for category in categories %}
			<form action = "{% url 'products' %}" method = "get">
				<input  class="btn-category" id="side-category" type="submit" value="{{ category.name }}" name="category">
			</form>
			{% endfor %}
		</ul>
		<ul class="brand-list">
			<h3>Marques</h3>
			{% for product in product_list %}
			<li>{{ product.brand }}</li>
			{% endfor %}
		</ul>
	</div>
	<div class="card-block">
		{% for product in product_list %}
		<div class="card">
			<img src="{{ product.image }}" alt="{{ product.name }}">
			<h3>{{ product.price }}</h3>
			<h4>{{ product.brand }}</h4>
			<p>{{ product.name }}</p>
		</div>
		{% endfor %}
		<ul class="pagination">
	{% if is_paginated %}
		{% if page_obj.has_previous %}
		    <li><a href="?{% param_replace page=1 %}">&laquo; DÃ©but</a></li>
		    <li><a href="?{% param_replace page=page_obj.previous_page_number %}"><i class="fa fa-chevron-left" aria-hidden="true"></i></a></li>
		{% endif %}
		{% for i in page_obj.paginator.page_range %}
		    {% if page_obj.number == i %}
		        <li><span class="page-number">{{ i }}</span></span></li>
		    {% elif i > page_obj.number|add:'-5' and i < page_obj.number|add:'5' %}
		        <li><a href="?{% param_replace page=i %}">{{ i }}</a></li>
		    {% endif %}
		{% endfor %}
		{% if page_obj.has_next %}
		    <li><a href="?{% param_replace page=page_obj.next_page_number %}"><i class="fa fa-chevron-right" aria-hidden="true"></i></a></li>
		    <li><a href="?{% param_replace page=page_obj.paginator.num_pages %}">Fin &raquo;</a></li>
		{% endif %}
	{% endif %}
		</ul>
	</div>
</div>
{% endblock %}

{% block footer %}
{% endblock %}